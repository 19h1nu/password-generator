<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0; /* Set background color */
        }
        .container {
            background-color: blueviolet;
            height: 400px;
            width: 300px;
            color: white;
        }
        .border {
            border-radius: 2px;
            color: white;
        }
        .div {
            background-color: brown;
            border-radius: 5px;
            width: 200px;
            box-shadow: 5px;
        }
        .inside-container {
            margin: 30px;
        }
        .strength-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #000;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Password Generator</h1>
        <div class="inside-container">
            <div class="pass">
                <input placeholder="Password" readonly="readonly" id="password-display">
                <button class="copy-btn"> <img src="C:\Users\sunil\Downloads\copy.png" alt="Copy" width="15px" height="15px"></button>
            </div>
            <div class="border">
                <div class="input-container">
                    <p>Password Length</p>
                    <p class="password-length">0</p>
                    <input type="range" min="4" max="20" value="8" class="slider" id="myRange">
                    <div>
                        <input type="checkbox" class="1st-checkbox" id="include-uppercase" onclick="handleCheckBoxes('upper')">
                        <label>Include Uppercase</label>
                        <div> <input type="checkbox" class="1st-checkbox" id="include-lowercase" onclick="handleCheckBoxes('lower')">
                            <label>Include Lowercase</label></div>
                        <div>
                            <input type="checkbox" class="1st-checkbox" id="include-symbol" onclick="handleCheckBoxes('symbol')">
                            <label>Include Symbol</label>
                        </div>
                        <div>
                            <input type="checkbox" class="1st-checkbox" id="include-number" onclick="handleCheckBoxes('number')">
                            <label>Include Number</label>
                        </div>
                    </div>
                </div>
                <div class="strength">
                    <p class="inner-strength">Strength</p>
                    <div class="strength-icon"></div>
                    <button class="div generatepassword">Generate Password</button>
                </div>
            </div>
        </div>
    </div>
   <script> const inputSlider = document.querySelector("#myRange")
    const lengthDisplay = document.querySelector('.password-length')
    const indicator = document.querySelector('.strength-icon')
    const passwordDisplay = document.querySelector('#password-display')
    const copyButton = document.querySelector('.copy-btn')
    const checkboxes = document.querySelectorAll('input[type="checkbox"]')
    const uppercaseCheck = document.querySelector("#include-uppercase");
    const lowercaseCheck = document.querySelector("#include-lowercase");
    const numbersCheck = document.querySelector("#include-number");
    const symbolsCheck = document.querySelector("#include-symbol");
    const generateButton = document.querySelector(".generatepassword")
    
    //  make rest variables
    
    
    let password = ''
    let passwordLength = 10;
    let checkCount = 0
    
    
    function handleSlider (){
        inputSlider.value = passwordLength
        lengthDisplay.innerText = passwordLength
    
    }
    
    handleSlider()
    
    function setIndicator(color) {
        indicator.style.backgroundColor = color
    }
    
    
    function getRndInteger(min, max){
        return(Math.floor(Math.random()*(max-min))+min)
    }
    function generateNumber(){
        return(getRndInteger(0,9))
    }
    
    function generateUpperCase(){
        return( String.fromCharCode((getRndInteger(65,90))))
    }
    
    
    function generateLowerCase(){
        return( String.fromCharCode((getRndInteger(97,122))))
    }
    
    function generateSymbol(){
        const symbols = '!@#$%^&*(){}[];:_+-|=<>/,.'
        return symbols[getRndInteger(0, symbols.length)]
    }
    
    const calStrength =(password) =>{
    let hasUpper = false
    let hasLower = false
    let hasSymbol = false
    let hasNumber = false
    
    for (let i = 0; i < password.length; i++){
        if (password[i]>='A' && password[i]<='Z'){
            hasUpper = true
        }else if(password[i]>='a' && password[i]<='z'){
            hasLower = true
        }
        else if(password[i]>='0' && password[i]<='9'){
            hasNumber = true
        }else {
            hasSymbol = true
        }
        
    }
    
    if(hasUpper && hasLower && (hasSymbol || hasNumber) && password.length>8){
        setIndicator('#0f0')
    }
    
    else if((hasUpper && hasLower) || (hasNumber && hasSymbol) && password.length>6){
        setIndicator('#ff0')
    }
    else{
        setIndicator('#f00')
    }
    
    }
    
    
     function copyContent(){
        navigator.clipboard.writeText(passwordDisplay.value);
        alert("copied")
    }
    
    
    copyButton.addEventListener('click', copyContent)
    
    
    inputSlider.addEventListener('input', (e)=>{
        passwordLength = e.target.value
        lengthDisplay.innerText = passwordLength
    })
    
    
    function handleCheckBoxes(input){
        checkCount = 0
        for(let i=0; i<checkboxes.length; i++){
            if(checkboxes[i].checked){
                checkCount++
            }
        }
    }
    
    
    generateButton.addEventListener('click', (e)=>{
    
        if(checkCount==0)
        return;
        let password = ''
        let func_array = []
        
        if(uppercaseCheck.checked){
            func_array.push(generateUpperCase)
            password += generateUpperCase()
        }
        if(lowercaseCheck.checked){
            func_array.push(generateLowerCase)
            password += generateLowerCase()
        }
        if(numbersCheck.checked){
            func_array.push(generateNumber)
            password += generateNumber()
        }
        if(symbolsCheck.checked){
            func_array.push(generateSymbol)
            password += generateSymbol()
        }
    
        for (let i=0; i< passwordLength-checkCount; i++){
            let randomIndex = getRndInteger(0,checkCount)
            password += func_array[randomIndex]()
        }
        passwordDisplay.value = password
    
    calStrength(password)
    })
</script>
</body>
</html>
